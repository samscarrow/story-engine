{
    "modules":  [
                    {
                        "name":  "scripts",
                        "path":  "scripts",
                        "language":  "Python",
                        "public_api":  [
                                           "main",
                                           "_read_inputs",
                                           "load_character",
                                           "handle_model_change",
                                           "update_last_model",
                                           "load_persona_yaml",
                                           "build_db",
                                           "extract_wallet",
                                           "create_env_config",
                                           "find_proxy_binary",
                                           "build_command"
                                       ],
                        "internal_deps":  [
                                              "core/story_engine",
                                              "core/orchestration",
                                              "poml",
                                              "core/storage",
                                              "core/common",
                                              "core/character_engine",
                                              "core/domain"
                                          ],
                        "external_deps":  [
                                              "argparse",
                                              "json",
                                              "os",
                                              "pathlib",
                                              "sys",
                                              "asyncio",
                                              "yaml",
                                              "traceback",
                                              "aiohttp",
                                              "__future__",
                                              "dataclasses",
                                              "glob",
                                              "hashlib",
                                              "typing",
                                              "time",
                                              "zipfile",
                                              "shutil",
                                              "subprocess"
                                          ],
                        "env_vars":  [
                                         "CLOUDSQL_ADDRESS",
                                         "CLOUDSQL_INSTANCE",
                                         "CLOUDSQL_PORT",
                                         "CLOUDSQL_PROXY_BIN",
                                         "DB_HOST",
                                         "DB_NAME",
                                         "DB_PASSWORD",
                                         "DB_PORT",
                                         "DB_SSLCERT",
                                         "DB_SSLKEY",
                                         "DB_SSLMODE",
                                         "DB_SSLROOTCERT",
                                         "DB_USER",
                                         "LM_ENDPOINT",
                                         "LMSTUDIO_MODEL",
                                         "STORE_ALL"
                                     ]
                    },
                    {
                        "name":  "poml",
                        "path":  "poml",
                        "language":  "Python",
                        "public_api":  [
                                           "POMLCharacterSimulationEngine",
                                           "create_poml_engine",
                                           "SimulationEngineMigrator",
                                           "PromptTemplate",
                                           "POMLOrchestrator",
                                           "OrchestratorMigrationHelper",
                                           "POMLConfig",
                                           "POMLCache",
                                           "POMLEngine",
                                           "create_engine",
                                           "render_template",
                                           "StoryEnginePOMLAdapter"
                                       ],
                        "internal_deps":  [

                                          ],
                        "external_deps":  [
                                              "asyncio",
                                              "json",
                                              "logging",
                                              "pathlib",
                                              "typing",
                                              "dataclasses",
                                              "sys",
                                              "character_simulation_engine_v2",
                                              "re",
                                              "jsonschema",
                                              "copy",
                                              "time",
                                              "enum",
                                              "os",
                                              "yaml",
                                              "hashlib",
                                              "datetime"
                                          ],
                        "env_vars":  [
                                         "LM_ENDPOINT",
                                         "LMSTUDIO_MODEL",
                                         "STORE_ALL"
                                     ]
                    },
                    {
                        "name":  "core/orchestration",
                        "path":  "core/orchestration",
                        "language":  "Python",
                        "public_api":  [
                                           "SimulationContext",
                                           "TemplateMetadata",
                                           "TemplateRepository",
                                           "AutonomousPersonaAgent",
                                           "CharacterSimulatorAgent",
                                           "SceneArchitectAgent",
                                           "PersonaAgentFactory",
                                           "ModelProvider",
                                           "GenerationError",
                                           "ProviderFailure",
                                           "LLMConfig",
                                           "LLMResponse",
                                           "LLMProvider",
                                           "LMStudioProvider",
                                           "KoboldCppProvider",
                                           "LLMOrchestrator",
                                           "create_orchestrator_from_yaml",
                                           "SimulationStatus",
                                           "SimulationPriority",
                                           "SimulationRequest",
                                           "SimulationResult",
                                           "SimulationScheduler",
                                           "RecursiveSimulationEngine",
                                           "create_recursive_simulation_engine",
                                           "QueryType",
                                           "StandardizedQuery",
                                           "LLMInterface",
                                           "StandardizedLLMInterface",
                                           "LegacyLLMAdapter",
                                           "create_standardized_interface",
                                           "LLMPersona",
                                           "PersonaConfig",
                                           "UnifiedLLMOrchestrator",
                                           "create_unified_orchestrator"
                                       ],
                        "internal_deps":  [
                                              "poml",
                                              "core/common"
                                          ],
                        "external_deps":  [
                                              "asyncio",
                                              "logging",
                                              "json",
                                              "hashlib",
                                              "typing",
                                              "pathlib",
                                              "dataclasses",
                                              "datetime",
                                              "abc",
                                              "uuid",
                                              "tempfile",
                                              "enum",
                                              "aiohttp",
                                              "os",
                                              "traceback",
                                              "__future__",
                                              "time",
                                              "yaml"
                                          ],
                        "env_vars":  {

                                     }
                    },
                    {
                        "name":  "core/storage",
                        "path":  "core/storage",
                        "language":  "Python",
                        "public_api":  [
                                           "DatabaseConnection",
                                           "SQLiteConnection",
                                           "PostgreSQLConnection",
                                           "OracleConnection",
                                           "get_database_connection"
                                       ],
                        "internal_deps":  [

                                          ],
                        "external_deps":  [
                                              "sqlite3",
                                              "json",
                                              "abc",
                                              "typing",
                                              "psycopg2",
                                              "oracledb",
                                              "os"
                                          ],
                        "env_vars":  {

                                     }
                    },
                    {
                        "name":  "core/character_engine",
                        "path":  "core/character_engine",
                        "language":  "Python",
                        "public_api":  [
                                           "LLMResponse",
                                           "LLMInterface",
                                           "MockLLM",
                                           "OpenAILLM",
                                           "LMStudioLLM",
                                           "SimulationError",
                                           "LLMError",
                                           "RetryHandler",
                                           "EmotionalState",
                                           "CharacterMemory",
                                           "CharacterState",
                                           "SimulationEngine",
                                           "Faction",
                                           "ActionType",
                                           "GroupCharacter",
                                           "GroupDynamicsEngine",
                                           "create_expanded_cast",
                                           "MetaNarrativePipeline",
                                           "RelationshipType",
                                           "Character",
                                           "MultiCharacterEngine",
                                           "create_trial_characters"
                                       ],
                        "internal_deps":  [
                                              "core/story_engine",
                                              "poml",
                                              "core/common",
                                              "core/orchestration"
                                          ],
                        "external_deps":  [
                                              "json",
                                              "asyncio",
                                              "logging",
                                              "abc",
                                              "dataclasses",
                                              "typing",
                                              "datetime",
                                              "pathlib",
                                              "random",
                                              "enum",
                                              "traceback",
                                              "yaml",
                                              "cache_manager",
                                              "aiohttp",
                                              "re",
                                              "copy",
                                              "__future__",
                                              "time"
                                          ],
                        "env_vars":  {

                                     }
                    },
                    {
                        "name":  "core/common",
                        "path":  "core/common",
                        "language":  "Python",
                        "public_api":  [
                                           "add_model_client_args",
                                           "get_model_and_client_config",
                                           "detect_loaded_model",
                                           "detect_lmstudio_model",
                                           "detect_koboldcpp_model",
                                           "validate_model_connection",
                                           "validate_lmstudio_connection",
                                           "validate_koboldcpp_connection",
                                           "print_connection_status",
                                           "setup_standard_args",
                                           "_deep_merge",
                                           "load_config",
                                           "load_dotenv_keys",
                                           "configure_logging",
                                           "store_workflow_output"
                                       ],
                        "internal_deps":  [
                                              "core/storage"
                                          ],
                        "external_deps":  [
                                              "argparse",
                                              "os",
                                              "requests",
                                              "typing",
                                              "__future__",
                                              "pathlib",
                                              "yaml",
                                              "logging"
                                          ],
                        "env_vars":  {

                                     }
                    },
                    {
                        "name":  "tests",
                        "path":  "tests",
                        "language":  "Python",
                        "public_api":  [
                                           "find_mock_data_issues",
                                           "get_line_context",
                                           "analyze_specific_mock_implementations",
                                           "main",
                                           "BreakingPointTester",
                                           "MockLLMOrchestrator",
                                           "SimplifiedBreakingPointTester",
                                           "TestDatabase",
                                           "PilateStubResponse",
                                           "PilateStubOrchestrator",
                                           "test_full_pilate_flow_with_poml",
                                           "_parse_eval",
                                           "test_live_poml_pilate_flow_minimal",
                                           "StubResp",
                                           "CountingOrchestrator",
                                           "test_orchestrated_caches_by_prompt_and_params",
                                           "StubOrchestrator",
                                           "test_orchestrated_scene_and_dialogue_with_poml",
                                           "test_profiles_loaded_from_config_yaml",
                                           "test_orchestrator_instantiation",
                                           "test_register_provider",
                                           "test_loader_registers_providers",
                                           "MockDataEvidence",
                                           "OutputAuthenticityAuditor",
                                           "SpyOrchestrator",
                                           "build_request",
                                           "test_pilate_profiles_and_prompts_propagate_with_poml",
                                           "StubResponse",
                                           "test_pipeline_generate_with_stub_orchestrator",
                                           "test_pipeline_craft_scene_shape",
                                           "test_scene_prompt_renders_string",
                                           "test_dialogue_prompt_renders_string",
                                           "test_plot_structure_prompt_renders_string",
                                           "test_quality_evaluation_prompt_renders_string",
                                           "test_enhancement_prompt_renders_string",
                                           "test_pipeline_uses_config_poml_flag_by_default",
                                           "validate_character_response_shape",
                                           "test_character_response_schema_minimal"
                                       ],
                        "internal_deps":  [
                                              "core/orchestration",
                                              "examples",
                                              "core/storage",
                                              "core/story_engine",
                                              "core/domain",
                                              "poml",
                                              "core/common"
                                          ],
                        "external_deps":  [
                                              "os",
                                              "sys",
                                              "re",
                                              "pathlib",
                                              "typing",
                                              "asyncio",
                                              "pytest",
                                              "logging",
                                              "json",
                                              "time",
                                              "unittest",
                                              "tempfile",
                                              "shutil",
                                              "psutil",
                                              "dataclasses",
                                              "xml",
                                              "types"
                                          ],
                        "env_vars":  {

                                     }
                    },
                    {
                        "name":  "core/cache",
                        "path":  "core/cache",
                        "language":  "Python",
                        "public_api":  [
                                           "_stable_hash",
                                           "CacheEntry",
                                           "ResponseCache"
                                       ],
                        "internal_deps":  [

                                          ],
                        "external_deps":  [
                                              "__future__",
                                              "hashlib",
                                              "json",
                                              "time",
                                              "dataclasses",
                                              "typing"
                                          ],
                        "env_vars":  {

                                     }
                    },
                    {
                        "name":  "examples",
                        "path":  "examples",
                        "language":  "Python",
                        "public_api":  [
                                           "StoryProjectManager",
                                           "print_usage_instructions",
                                           "AutonomousPersonaDemonstration",
                                           "MigratedCharacterSimulationEngine",
                                           "MigratedNarrativePipeline",
                                           "LegacyEngineAdapter",
                                           "print_migration_benefits"
                                       ],
                        "internal_deps":  [
                                              "core/orchestration"
                                          ],
                        "external_deps":  [
                                              "asyncio",
                                              "json",
                                              "logging",
                                              "datetime",
                                              "pathlib",
                                              "typing",
                                              "os",
                                              "time"
                                          ],
                        "env_vars":  {

                                     }
                    },
                    {
                        "name":  "core/story_engine",
                        "path":  "core/story_engine",
                        "language":  "Python",
                        "public_api":  [
                                           "FeedbackType",
                                           "RevisionStrategy",
                                           "StoryMetrics",
                                           "Feedback",
                                           "StoryVersion",
                                           "BranchPoint",
                                           "IterativeStoryEngine",
                                           "AdaptiveStorySystem",
                                           "GraphNode",
                                           "GraphEdge",
                                           "NarrativeGraph",
                                           "NarrativePipeline",
                                           "_strip_md",
                                           "_slugify",
                                           "SceneEntry",
                                           "SceneBank",
                                           "parse_screenplay_to_scenes",
                                           "StoryStructure",
                                           "ConflictType",
                                           "TensionCurve",
                                           "SceneType",
                                           "StoryTheme",
                                           "PlotPoint",
                                           "StoryArc",
                                           "Scene",
                                           "StoryArcEngine",
                                           "IntegratedStoryEngine",
                                           "StoryComponent",
                                           "_ProfilesConfig",
                                           "OrchestratedStoryEngine",
                                           "EnhancementFocus",
                                           "SceneQuality",
                                           "SceneEvaluation",
                                           "EnhancementCycle",
                                           "StoryEnhancementLoop",
                                           "WorldState",
                                           "WorldStateManager",
                                           "WorldStateRefiner"
                                       ],
                        "internal_deps":  [
                                              "core/common",
                                              "poml",
                                              "core/domain",
                                              "core/cache",
                                              "core/orchestration",
                                              "core/storage"
                                          ],
                        "external_deps":  [
                                              "logging",
                                              "asyncio",
                                              "json",
                                              "aiohttp",
                                              "typing",
                                              "dataclasses",
                                              "enum",
                                              "collections",
                                              "numpy",
                                              "datetime",
                                              "__future__",
                                              "uuid",
                                              "time",
                                              "sys",
                                              "os",
                                              "re",
                                              "pathlib",
                                              "random",
                                              "character_simulation_engine_v2",
                                              "narrative_pipeline"
                                          ],
                        "env_vars":  {

                                     }
                    },
                    {
                        "name":  "core/domain",
                        "path":  "core/domain",
                        "language":  "Python",
                        "public_api":  [
                                           "StoryRequest",
                                           "NarrativeArc",
                                           "SceneDescriptor"
                                       ],
                        "internal_deps":  [

                                          ],
                        "external_deps":  [
                                              "__future__",
                                              "dataclasses",
                                              "typing"
                                          ],
                        "env_vars":  {

                                     }
                    }
                ],
    "edges":  [
                  {
                      "from":  "scripts",
                      "to":  "core/character_engine",
                      "via":  "import"
                  },
                  {
                      "from":  "core/character_engine",
                      "to":  "poml",
                      "via":  "import"
                  },
                  {
                      "from":  "core/orchestration",
                      "to":  "poml",
                      "via":  "import"
                  },
                  {
                      "from":  "core/story_engine",
                      "to":  "core/cache",
                      "via":  "import"
                  },
                  {
                      "from":  "core/story_engine",
                      "to":  "poml",
                      "via":  "import"
                  },
                  {
                      "from":  "core/character_engine",
                      "to":  "core/common",
                      "via":  "import"
                  },
                  {
                      "from":  "tests",
                      "to":  "core/domain",
                      "via":  "import"
                  },
                  {
                      "from":  "core/story_engine",
                      "to":  "core/orchestration",
                      "via":  "import"
                  },
                  {
                      "from":  "core/story_engine",
                      "to":  "core/storage",
                      "via":  "import"
                  },
                  {
                      "from":  "core/character_engine",
                      "to":  "core/orchestration",
                      "via":  "import"
                  },
                  {
                      "from":  "scripts",
                      "to":  "core/domain",
                      "via":  "import"
                  },
                  {
                      "from":  "tests",
                      "to":  "core/common",
                      "via":  "import"
                  },
                  {
                      "from":  "core/character_engine",
                      "to":  "core/story_engine",
                      "via":  "import"
                  },
                  {
                      "from":  "tests",
                      "to":  "poml",
                      "via":  "import"
                  },
                  {
                      "from":  "core/story_engine",
                      "to":  "core/common",
                      "via":  "import"
                  },
                  {
                      "from":  "tests",
                      "to":  "core/storage",
                      "via":  "import"
                  },
                  {
                      "from":  "core/common",
                      "to":  "core/storage",
                      "via":  "import"
                  },
                  {
                      "from":  "tests",
                      "to":  "core/story_engine",
                      "via":  "import"
                  },
                  {
                      "from":  "tests",
                      "to":  "core/orchestration",
                      "via":  "import"
                  },
                  {
                      "from":  "scripts",
                      "to":  "core/storage",
                      "via":  "import"
                  },
                  {
                      "from":  "scripts",
                      "to":  "core/story_engine",
                      "via":  "import"
                  },
                  {
                      "from":  "scripts",
                      "to":  "core/common",
                      "via":  "import"
                  },
                  {
                      "from":  "examples",
                      "to":  "core/orchestration",
                      "via":  "import"
                  },
                  {
                      "from":  "tests",
                      "to":  "examples",
                      "via":  "import"
                  },
                  {
                      "from":  "core/orchestration",
                      "to":  "core/common",
                      "via":  "import"
                  },
                  {
                      "from":  "scripts",
                      "to":  "poml",
                      "via":  "import"
                  },
                  {
                      "from":  "core/story_engine",
                      "to":  "core/domain",
                      "via":  "import"
                  },
                  {
                      "from":  "scripts",
                      "to":  "core/orchestration",
                      "via":  "import"
                  }
              ],
    "meta":  {
                 "generated_at":  "2025-09-08T16:05:44.5666155-04:00",
                 "limits":  {
                                "max_file_size_bytes":  1048576
                            }
             }
}
